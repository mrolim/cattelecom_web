var MPLoader=function(e){var t=this;this.loaded=false;this._images=[];this._videos=[];this._domimages=[];this._loaded_count=0;this._$=e._$;this._loaders.push(this);this._count.started++;this._createLoader=function(){if(this._$.find(".mp_load").length==0){var e=this.__checkBrowser();if(e.browser!="msie"||e.browser=="msie"&&parseInt(e.version)>=10)this._$.append('<div class="mp_load"><div class="mp_loader_circle">'+'<div class="circle_loader circle_loader_1G"></div>'+'<div  class="circle_loader circle_loader_2G"></div>'+'<div  class="circle_loader circle_loader_3G"></div>'+'<div  class="circle_loader circle_loader_4G"></div>'+'<div  class="circle_loader circle_loader_5G"></div>'+'<div  class="circle_loader circle_loader_6G"></div>'+'<div  class="circle_loader circle_loader_7G"></div>'+'<div  class="circle_loader circle_loader_8G"></div>'+"</div></div>");else{this._$.append('<div class="mp_load"><div class="mp_loader_circle"></div></div>');this._$.find(".mp_load").first().find(".mp_loader_circle").addClass("with_gif")}}this._$loader=this._$.find(".mp_load").first();this._$loader_circle=this._$loader.find(".mp_loader_circle");this._$loader.css({position:"absolute",top:"0px",left:"0px","z-index":"10001","background-color":"black",width:"100%",height:"100%"});var t=this._$.width();var n=this._$.height();var r=this._$loader_circle.width();var i=this._$loader_circle.height();var s=/([\-0-9]+)\%/;var o=this._$[0].style.width.match(s);var u=this._$[0].style.height.match(s);if(t==0||o)t=MP.prototype._getWindowSize().x;if(n==0||u)n=MP.prototype._getWindowSize().y;this._$loader_circle.css({position:"absolute",left:t/2-r/2,top:n/2-i/2})};this._getDomImages=function(){var e=this._$.find(":not(.mp_loaded,.mp_loader_circle)").filter(function(){return typeof $(this).css("background-image")!="undefined"&&$(this).css("background-image")!="none"}).get();for(i in e){var t=$(e[i]).css("background-image");var n=t.match(/url\("([a-zA-Z:\/0-9\._\-"]+)"/);if(n){$(e[i]).addClass("mp_loaded");var t=n[1];if($.inArray(t,this._images)==-1)this._images.push(t)}}elements2=this._$.find("img:not(.mp_loaded)").get();for(i in elements2){$(elements2[i]).addClass("mp_loaded");if($.inArray(elements2[i].src,this._images)==-1)this._images.push(elements2[i].src)}elements3=this._$.find("video:not(.mp_loaded)").get();for(i in elements3){$(elements3[i]).addClass("mp_loaded");this._videos[this._images.length]=true;this._images.push(elements3[i])}this._howmany=this._images.length;if(this._howmany==0)this._endLoad();else this._createLoader()};this._load=function(){var e=0;for(img in this._images){if(this._videos[e]){var t=this._images[img];$(t).bind("loadeddata",this._onload)}else{var t=new Image;$(t).bind("load",this._onload);t.src=this._images[img]}this._domimages.push(t);e++}};this._onload=function(){t._loaded_count++;if(t._loaded_count>=t._howmany){t._endLoad()}};this._endLoad=function(){t._count.ended++;if(this._count.started==this._count.ended){for(i in this._loaders)this._loaders[i]._show()}return};this._show=function(){if(!this._$loader){this.loaded=true;e.init();return}var t=this;t._$loader.animate({opacity:.9},"fast",function(){t._$loader.fadeOut("slow");t.loaded=true;e.init()})};this.__checkBrowser=function(){uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}};return uaMatch(navigator.userAgent)};this._getDomImages();this._load()};MPLoader.prototype._loaders=[];MPLoader.prototype._count={started:0,ended:0};
var MP=function(e,t){this._attrs={};this._parts=[];this._stop=true;this._hided=true;this._$=e;if(!this._$[0])return console.log("No existing DOM element");this._$.attr("data-mp_id",MP.prototype._num);this._$=$('[data-mp_id="'+MP.prototype._num+'"]').first();this._num=MP.prototype._num;this._event_namespace="el_"+this._num;MP.prototype._num++;this._part=false;this._slider=false;this._setSize();this._show_effect_i=0;this._hide_effect_i=0;this.show_effects=new MPShowEffects(this);this.hide_effects=new MPHideEffects(this);this._initCallback=function(){};this._hideCallback=function(){};for(attr in this._default_attrs)this._attrs[attr]=this._default_attrs[attr];for(attr in this._default_attrs){if(this._$.attr("data-"+attr))this._attrs[attr]=this._$.attr("data-"+attr)}for(attr in t)this._attrs[attr]=t[attr];if(typeof this._attrs.responsive=="string")this._attrs.responsive=this._attrs.responsive=="false"?false:true;this._setArea();this._setDomElement(e);this._addElementsFromClass();this._setOffset();if(!this._attrs.move_area)this._attrs.move_area=this._$;else if(typeof this._attrs.move_area=="string")this._attrs.move_area=$(this._attrs.move_area);if(this._attrs.load_img)this._loader=new MPLoader(this);this._bind();return this};MP.prototype={_default_attrs:{responsive:true,area:false,on_init:false,load_img:true},_num:0,init:function(){if(!this._part){this._saveMouseCoordinates({pageX:this._$area.width()/2+this._area_offset.x,pageY:this._$area.height()/2+this._area_offset.y})}$(window).trigger("resize");this._loop();this._$.css({display:"block"});this.stop();this._hided=true;for(i=0;i<this._parts.length;i++){this._parts[i].runShowEffect()}if(this._attrs.on_init){if(typeof this._attrs.on_init=="string")eval(this._attrs.on_init+".call(this)");else this._attrs.on_init.call(this)}return this},show:function(){this.init()},hide:function(){this.stop();this._hided=true;for(i=0;i<this._parts.length;i++){this._parts[i].runHideEffect()}},stop:function(){this._stop=true},start:function(){this._stop=false},add:function(e,t){if(e instanceof MPElement)e._setOwner(this);else{e=new MPElement(e,t)}this._parts.push(e);return this},_addElementsFromClass:function(){var e=this._$.children(".mp_element:not(.mp_used)").get();for(el in e)this.add(new MPElement($(e[el])))},_setSize:function(){this._attrs.width=this._$.width();this._attrs.height=this._$.height();this._setDefaultPercentValues();this._default_size={width:this._$.width(),height:this._$.height()}},_setArea:function(){if(this._attrs.area==false)this._$area=this._$;else{if(typeof this._attrs.area=="string")this._$area=$(this._attrs.area);else this._$area=this._attrs.area}this._$area.size={};this._setAreaSize()},_setAreaSize:function(){this._$area.size.width=this._$area.width();this._$area.size.height=this._$area.height()},_setOffset:function(){this._offset={};this._offset.x=parseInt(this._$.offset().left);this._offset.y=parseInt(this._$.offset().top);this._area_offset={};this._area_offset.x=parseInt(this._$area.offset().left);this._area_offset.y=parseInt(this._$area.offset().top)},_setDomElement:function(e){if(e){this._$=e;this._$.css("position","relative");this._$.css("overflow","hidden")}else this._$=$("body")},_setInitCallback:function(e){this._initCallback=e},_setShowCallback:function(e){this._initCallback=e},_setHideCallback:function(e){this._hideCallback=e},_showSingleEffectCallback:function(){if(this._show_effect_i+1<this._parts.length)this._show_effect_i++;else{this._hided=false;this._hide_effect_i=0;this._show_effect_i=0;this._initCallback();$(window).trigger("resize",true);this.start()}},_hideSingleEffectCallback:function(){if(this._hide_effect_i+1<this._parts.length)this._hide_effect_i++;else{this._show_effect_i=0;this._hide_effect_i=0;this._hideCallback()}},_animFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/30)},_parts:[],_loop:function(){var e=this;if(!this._stop&&!this._hided){for(i=0;i<this._parts.length;i++)this._parts[i].move()}this._animFrame.call(window,function(){e._loop()})},_bind:function(){function t(t){e._saveMouseCoordinates(t);e.stop();if(e._hided)return;e.start()}var e=this;this._$area.bind("mousemove."+this._event_namespace,function(t){e._saveMouseCoordinates(t)});if(this._$area[0].addEventListener)this._$area[0].addEventListener("touchmove",function(t){if(t.targetTouches.length==1){var n=t.targetTouches[0];e._saveMouseCoordinates(n)}});this._$area.bind("mouseenter."+this._event_namespace,t);var n=function(t,n){e._windowResize(!n?true:false);for(var r=0;r<e._parts.length;r++)e._parts[r]._initPositions()};$(window).bind("resize."+this._event_namespace,n);n()},_windowResize:function(e){var t=this._getWindowSize().x;this._setPercentValues();this._setAreaSize();this._attrs.width=this._default_size.width<t?this._default_size.width:t;this._attrs.height=this._default_size.height;if(this._attrs.responsive){this._$.css("width",this._attrs.width);this._$.css("height",this._attrs.height)}if(e)$(window).trigger("resize."+this._event_namespace,true);this._setOffset()},_getWindowSize:function(){return{x:$(window).width(),y:$(window).height()}},_unbind:function(){$(window).unbind("resize.el_"+this._num)},_saveMouseCoordinates:function(e){this._part={x:(parseInt(e.pageX)-this._area_offset.x)/this._$area.size.width,y:(parseInt(e.pageY)-this._area_offset.y)/this._$area.size.height}},_setPercentValues:function(){if(this._slider){var e=this._slider._$.width();var t=this._slider._$.height()}else{var e=this._getWindowSize().x;var t=this._getWindowSize().y}if(this._size_percent.width)this._default_size.width=e*this._size_percent.width;if(this._size_percent.height)this._default_size.height=t*this._size_percent.height},_setDefaultPercentValues:function(){var e=/([\-0-9]+)\%/;this._size_percent={width:this._$[0].style.width.match(e)?this._$[0].style.width.match(e)[1]/100:false,height:this._$[0].style.height.match(e)?this._$[0].style.height.match(e)[1]/100:false}}};(function(e){e.fn.MP=function(t){if(e(this).length>1){var n={elements:[],init:function(){for(r in this.elements)this.elements[r].init();return this}};for(var r=0;r<e(this).length;r++){n.elements.push(new MP(e(e(this)[r]),t))}return n}else return new MP(e(this),t)}})(jQuery);
var MPShowEffects=function(){};MPShowEffects.prototype={_setPoint:function(e){e._movex();e._movey()},fade:function(e){var t=this;e._$.css({left:e.point.x,top:e.point.y});e._$.fadeIn(e._attrs.effect_duration,function(){t._showSingleEffectCallback()})},slideLeft:function(e){var t=this;e._$.css("display","block");e._$.css("left",this._$.width());e._$.animate({left:e.point.x,top:e.point.y},e._attrs.effect_duration,function(){t._showSingleEffectCallback()})},slideRight:function(e){var t=this;e._$.css("display","block");e._$.css("left",-e._$.width());e._$.animate({left:e.point.x,top:e.point.y},e._attrs.effect_duration,function(){t._showSingleEffectCallback()})},slideDown:function(e){var t=this;e._$.css("display","block");e._$.css("top",-e._$.height());e._$.animate({top:e.point.y,left:e.point.x},e._attrs.effect_duration,function(){t._showSingleEffectCallback()})},slideUp:function(e){var t=this;e._$.css("display","block");e._$.css("top",this._$.height());e._$.animate({top:e.point.y,left:e.point.x},e._attrs.effect_duration,function(){t._showSingleEffectCallback()})}};var MPHideEffects=function(e){};MPHideEffects.prototype={fade:function(e){var t=this;e._$.fadeOut(e._attrs.effect_duration,function(){t._hideSingleEffectCallback()})},slideRight:function(e){var t=this;e._$.animate({left:this._$.width()},e._attrs.effect_duration,function(){t._hideSingleEffectCallback()})},slideLeft:function(e){var t=this;e._$.animate({left:-e._$.width()},e._attrs.effect_duration,function(){t._hideSingleEffectCallback()})},slideUp:function(e){var t=this;e._$.animate({top:-e._$.height()},e._attrs.effect_duration,function(){t._hideSingleEffectCallback()})},slideDown:function(e){var t=this;e._$.animate({top:this._$.height()},e._attrs.effect_duration,function(){t._hideSingleEffectCallback()})}};
var MPElement=function(e,t){this._$=e;this._owner=false;this._attrs={};for(attr in this._default_attrs)this._attrs[attr]=this._default_attrs[attr];for(attr in this._attrs){if(this._$.attr("data-"+attr))this._attrs[attr]=this._parseAttribute(this._$.attr("data-"+attr))}for(attr in t)this._attrs[attr]=t[attr];if(this._attrs["show_effect"]){this._attrs.show_effect=this._setEffect(this._attrs.show_effect);if(!this._attrs["hide_effect"])this._attrs["hide_effect"]=this._attrs["show_effect"];else this._attrs.hide_effect=this._setEffect(this._attrs.hide_effect)}this._attrs.reverse_x=this._attrs.reverse_x=="false"?false:true;this._attrs.reverse_y=this._attrs.reverse_y=="false"?false:true;this._string_pos={x:["left","right","center"],y:["top","bottom","center"]};if(typeof this._attrs.x=="string"){if($.inArray(this._attrs.x,this._string_pos.x)!=-1){this._attrs.string_x=this._attrs.x}else this._attrs.string_y=false}else this._attrs.string_x=false;if(typeof this._attrs.y=="string"){if($.inArray(this._attrs.y,this._string_pos.y)!=-1){this._attrs.string_y=this._attrs.y}else this._attrs.string_y=false}else this._attrs.string_y=false;this._attrs.effect_duration=parseInt(this._attrs.effect_duration);this.point={x:this._attrs.x,y:this._attrs.y};this._setDomPosition();this._$.addClass("mp_used")};MPElement.prototype={_default_attrs:{x:0,y:0,max_x:false,max_y:false,reverse_x:true,reverse_y:true,on_move_x:false,on_move_y:false,show_effect:false,hide_effect:false,effect_duration:500,perspective:{size:"800px",x:false,y:false},user_x:true,user_y:true,percent_x:false,percent_y:false},runShowEffect:function(){if(this._attrs.show_effect&&typeof this._attrs.show_effect=="object"){var e=this._attrs.show_effect.next;if(typeof this._owner.show_effects[e]!="undefined"){this._initPositions();this._movex();this._movey();this._perspective();if(this._owner._slider){if(this._owner._slider._last_move>this._owner._slider._current){e=this._attrs.show_effect.prev}}this._owner.show_effects[e].call(this._owner,this)}}else{this._$.show();this._owner._showSingleEffectCallback()}},runHideEffect:function(){if(this._attrs.hide_effect&&typeof this._attrs.hide_effect=="object"){var e=this._attrs.hide_effect.next;if(typeof this._owner.hide_effects[e]!="undefined"){if(this._owner._slider){if(this._owner._slider._last_move>this._owner._slider._current){e=this._attrs.hide_effect.prev}}this._owner.hide_effects[e].call(this._owner,this)}}else{this._$.hide();this._owner._hideSingleEffectCallback()}},_setEffect:function(e){if(typeof e!="object"){var t={};t.next=e;switch(e){case"slideLeft":{t.prev="slideRight";break};case"slideRight":{t.prev="slideLeft";break};case"slideUp":{t.prev="slideDown";break};case"slideDown":{t.prev="slideUp";break};default:{t.prev=e}}}else var t=e;return t},_parseAttribute:function(value){if(value.match(/{/)){eval("var obj="+value);return obj}else return value},_setDomPosition:function(){var e=/([\-0-9]+)\%/;var t=this._attrs.x.toString().match(e);var n=this._attrs.y.toString().match(e);this._$.css({display:"none",position:"absolute",left:t?this._attrs.x:parseInt(this._attrs.x),top:n?this._attrs.y:parseInt(this._attrs.y)});this.width=this._$.width();this.height=this._$.height()},_setOwner:function(e){this._owner=e},_initPositions:function(){this._setStringPosition();this._setStartPosition();this._setMaxXY();this._setDistance()},_setStartPosition:function(){var e=/([\-0-9]+)\%/;var t=this._attrs.x.toString().match(e);if(this._attrs.percent_x)t=this._attrs.percent_x;if(t){this._attrs.x=t[1]/100*this._owner._attrs.width;this._attrs.percent_x=t}else this._attrs.x=parseInt(this._attrs.x);var n=this._attrs.y.toString().match(e);if(this._attrs.percent_y)n=this._attrs.percent_y;if(n){this._attrs.y=n[1]/100*this._owner._attrs.height;this._attrs.percent_y=n}else this._attrs.y=parseInt(this._attrs.y)},_setStringPosition:function(){if(this._attrs.string_x){switch(this._attrs.string_x){case"left":this._attrs.x=0;break;case"center":this._attrs.x=this._owner._$.width()/2-this._$.width()/2;break;case"right":this._attrs.x=this._owner._$.width()-this._$.width();break}}if(this._attrs.string_y){switch(this._attrs.string_y){case"top":this._attrs.y=0;break;case"center":this._attrs.y=this._owner._$.height()/2-this._$.height()/2;break;case"bottom":this._attrs.y=this._owner._$.height()-this._$.height();break}}},_setMaxXY:function(){this._attrs.max_x=(new MPElementMaxX(this._attrs.max_x)).check();this._attrs.max_y=(new MPElementMaxY(this._attrs.max_y)).check();this._attrs.max_percent_x=(new MPElementPercentX(this._attrs.max_x)).check();this._attrs.max_percent_y=(new MPElementPercentY(this._attrs.max_y)).check();if(this._attrs.max_x)this._attrs.max_x.toFloat();if(this._attrs.max_y)this._attrs.max_y.toFloat();if(this._attrs.max_x===false||!this._attrs.user_x){var e=this._$.width()-this._owner._attrs.width;if(e>0){this._attrs.max_x=new MPElementMaxX(e/2);this._attrs.x=-e/2}else this._attrs.max_x=new MPElementMaxX(0);this._attrs.user_x=false}if(this._attrs.max_y===false||!this._attrs.user_y){var e=this._$.height()-this._owner._attrs.height;if(e>0){this._attrs.max_y=new MPElementMaxY(e/2);this._attrs.y=-e/2}else this._attrs.max_y=new MPElementMaxY(0);this._attrs.user_y=false}},_setDistance:function(){if(this._attrs.max_percent_x){this._attrs.max_x.left=this._owner._attrs.width*(this._attrs.max_percent_x.left/100);this._attrs.max_x.right=this._owner._attrs.width*(this._attrs.max_percent_x.right/100)}var e=this._attrs.max_x.left+this._attrs.max_x.right;if(this._attrs.max_percent_y){this._attrs.max_y.top=this._owner._attrs.height*(this._attrs.max_percent_y.top/100);this._attrs.max_y.bottom=this._owner._attrs.height*(this._attrs.max_percent_y.bottom/100)}var t=this._attrs.max_y.top+this._attrs.max_y.bottom;this._attrs.distance_x=e;this._attrs.distance_y=t},_movex:function(){if(this._owner._part){var percent=this._attrs.reverse_x?1-this._owner._part.x:this._owner._part.x;var wanted_point=this._attrs.x-this._attrs.max_x.left+this._attrs.distance_x*percent}if(this.point.x!=wanted_point&&this._attrs.on_move_x)typeof this._attrs.on_move_x=="string"?eval(this._attrs.on_move_x+".call(this,this._owner._part)"):this._attrs.on_move_x.call(this,this._owner._part);this.point.x=wanted_point;return wanted_point},_movey:function(){if(this._owner._part){var percent=this._attrs.reverse_y?1-this._owner._part.y:this._owner._part.y;var wanted_point=this._attrs.y-this._attrs.max_y.top+this._attrs.distance_y*percent}if(this.point.y!=wanted_point&&this._attrs.on_move_y)typeof this._attrs.on_move_y=="string"?eval(this._attrs.on_move_y+".call(this,this._owner._part)"):this._attrs.on_move_y.call(this,this._owner._part);this.point.y=wanted_point;return wanted_point},_perspective:function(){var e=this._owner._part;if(this._attrs.perspective.x||this._attrs.perspective.y)this._$.css({transform:"perspective( "+this._attrs.perspective.size+" ) "+this._countPerspective(e,"x")+" "+this._countPerspective(e,"y")})},__persp_help:{x:"Y",y:"X"},_countPerspective:function(e,t){if(this._attrs.perspective[t]){if(e[t]<.5)var n=-this._attrs.perspective[t]*(1-e[t]-.5);else var n=this._attrs.perspective[t]*(e[t]-.5);return"rotate"+this.__persp_help[t]+"("+n+"deg)"}return""},move:function(){this._$.css({left:this._movex(),top:this._movey()});this._perspective()}};var MPElementMaxX=function(e){if(e===false){this.left=false;this.right=false;return}if(typeof e!="object"){this.left=e;this.right=e}else{this.left=e.left;this.right=e.right}};MPElementMaxX.prototype.check=function(){return this.left!==false&&this.right!==false?this:false};MPElementMaxX.prototype.toFloat=function(){this.left=parseFloat(this.left,2);this.right=parseFloat(this.right,2)};var MPElementMaxY=function(e){if(e===false){this.top=false;this.bottom=false;return}if(typeof e!="object"){this.top=e;this.bottom=e}else{this.top=e.top;this.bottom=e.bottom}};MPElementMaxY.prototype.check=function(){return this.top!==false&&this.bottom!==false?this:false};MPElementMaxY.prototype.toFloat=function(){this.top=parseFloat(this.top,2);this.bottom=parseFloat(this.bottom,2)};var MPElementPercentX=function(e){if(e===false){this.left=false;this.right=false;return}this.left=this._getPercent(e.left);this.right=this._getPercent(e.right)};MPElementPercentX.prototype={_getPercent:function(e){var t=e.toString().match(/([0-9]+)\%/);if(t)return t[1];else return false},check:MPElementMaxX.prototype.check};var MPElementPercentY=function(e){if(e===false){this.top=false;this.bottom=false;return}this.top=this._getPercent(e.top);this.bottom=this._getPercent(e.bottom)};MPElementPercentY.prototype={_getPercent:MPElementPercentX.prototype._getPercent,check:MPElementMaxY.prototype.check};
var MPSlider=function(e,t){this._mps=[];this._$=e;this._$.css("position","relative");this._$.css("overflow","hidden");this._last_move=false;this._mouseon=false;this._stop=false;this._first_time=true;this._$.attr("data-mp_id",MP.prototype._num);this._$=$('[data-mp_id="'+MP.prototype._num+'"]').first();this._num=MP.prototype._num;this._event_namespace="el_"+this._num;this._attrs={width:e.width(),height:e.height()};this._setDefaultPercentValues();this._default_size={width:e.width(),height:e.height()};for(attr in this._default_attrs)this._attrs[attr]=this._default_attrs[attr];for(attr in this._default_attrs){if(this._$.attr("data-"+attr))this._attrs[attr]=this._$.attr("data-"+attr)}for(attr in t)this._attrs[attr]=t[attr];this._setArea();this._setOffset();this._current=0;this._addElementsFromClass();this._bind();if(this._attrs.autoplay&&this._mps.length>1)this._startAutoPlay();this._broadcastMousePosition({pageX:this._getWindowSize().x/2,pageY:this._getWindowSize().y/2+$(window).scrollTop()});this._loader=new MPLoader(this);return this};MPSlider.prototype={_default_attrs:{slide:"instantly",duration:false,responsive:true,autoplay:false,nextprev:true,pagination:true,pauseOnHover:true,pauseTime:5e3,area:false},init:function(){this._stop=true;if(this._first_time){if(this._mps.length>1)this._addNavigation();this._first_time=false}this._mps[this._current].init();return this},add:function(e,t){var n=this;if(typeof t=="undefined")var t={};if(!t.area&&this._attrs.area)t.area=this._attrs.area;t.responsive=this._attrs.responsive;t.load_img=false;$(e).css({display:"none",position:"absolute",height:this._$[0].style.height,width:this._$[0].style.width});var r=new MP(e,t);this._mps.push(r);r._$.css({display:"none",position:"absolute",height:this._$[0].style.height,width:this._$[0].style.width});r._setSize();r._slider=this;r._setShowCallback(function(){n._stop=false});if(this._attrs.slide=="wait"){r._setHideCallback(function(){n._mps[n._last_move]._$.css("display","none");n.init()})}else r._setHideCallback(function(){n._mps[n._last_move]._$.css("display","none")});return this},next:function(){if(this._stop)return;this._last_move=this._current;if(this._current+1<this._mps.length)this._current++;else this._current=0;this._changeSlideStaticActions()},setSlide:function(e){if(this._stop)return;this._last_move=this._current;this._current=e;this._changeSlideStaticActions()},prev:function(){if(this._stop)return;this._last_move=this._current;if(this._current>0)this._current--;else this._current=this._mps.length-1;this._changeSlideStaticActions()},_changeSlideStaticActions:function(){this._stop=true;this._mps[this._last_move].hide();if(this._attrs.slide=="instantly")this.init();if(this._attrs.autoplay&&this._mps.length>1)this._startAutoPlay();if(this._attrs.pagination){this._$.find(".page").removeClass("current");this._$.find('.page[data-i="'+this._mps[this._current]._i+'"]').addClass("current")}},getSize:function(){return this._mps.length},_setOffset:MP.prototype._setOffset,_windowResize:MP.prototype._windowResize,_getWindowSize:MP.prototype._getWindowSize,_setPercentValues:MP.prototype._setPercentValues,_setDefaultPercentValues:MP.prototype._setDefaultPercentValues,_setArea:MP.prototype._setArea,_setAreaSize:MP.prototype._setAreaSize,_addNavigation:function(){if(this._attrs.nextprev)this.__addNextPrevButtons();if(this._attrs.pagination)this.__addPaginationsButtons()},_broadcastMousePosition:function(e){for(var t=0;t<this._mps.length;t++)this._mps[t]._saveMouseCoordinates(e)},__addNextPrevButtons:function(){this._$.append('<div class="prev"><span class="lsf"></span></div><div class="next"><span class="lsf"></span></div>');var e=this;this._$.find(".prev").click(function(t){e._broadcastMousePosition(t);e.prev()});this._$.find(".next").click(function(t){e._broadcastMousePosition(t);e.next()})},__addPaginationsButtons:function(){var e="<div class='pagination'><div class='inner'><span class='bg left'></span><div class='cont_pag relative'><div class='inner_page'>";this._pagination_width=0;for(var t=0;t<this._mps.length;t++){this._mps[t]._i=t;e+='<div class="page';if(t==0)e+=" current";e+='" data-i="'+t+'"></div>'}e+='</div><span class="bg right"></span></div></div></div>';this._$.append(e);this._pagination_width=0;this._pagination_width+=parseInt(this._$.find(".bg").width());this._pagination_width+=parseInt(this._$.find(".cont_pag").width())?parseInt(this._$.find(".cont_pag").width()):this._mps.length*(parseInt(this._$.find(".page").width())+parseInt(this._$.find(".page").css("margin-left"))*2)+parseInt(this._$.find(".inner_page").css("padding-left"))*2;var n=this;this._$.find(".page").click(function(e){n._broadcastMousePosition(e);var t=parseInt($(this).attr("data-i"));if(n._current!=t)n.setSlide(t)});this._$.find(".pagination > .inner").css("width",this._pagination_width)},_startAutoPlay:function(){this._endtime=(new Date).getTime()+this._attrs.pauseTime+this._attrs.duration;this._play()},_play:function(){var e=this;if(this._mouseon&&this._attrs.pauseOnHover)return;this._ctime=(new Date).getTime();if((new Date).getTime()>=this._endtime){this.next()}else this._animFrame.call(window,function(){e._play()})},_bind:function(){var e=this;this._$area.mousemove(function(t){e._mouseon=true;e._mps[e._current].start()});$(window).scroll(function(t){if(e._mouseon==false){$(window).unbind("scroll");e._broadcastMousePosition({pageX:e._getWindowSize().x/2,pageY:e._getWindowSize().y/2+$(window).scrollTop()})}});this._$area.mouseenter(function(t){e._$.find(".pagination,.next,.prev").css("opacity",1);e._mps[e._current].start()});this._$area.mouseleave(function(t){e._mouseon=false;e._$.find(".pagination,.next,.prev").css("opacity",0);if(e._attrs.autoplay&&e._mps.length>1)e._startAutoPlay()});$(window).bind("resize."+this._event_namespace,function(t){var n=e._getWindowSize().x;e._setPercentValues();e._setAreaSize();e._attrs.width=e._default_size.width<n?e._default_size.width:n;e._attrs.height=e._default_size.height;if(e._attrs.responsive){e._$.css("width",e._attrs.width);e._$.css("height",e._attrs.height)}var r=function(){this._windowResize(false);for(var e=0;e<this._parts.length;e++)this._parts[e]._initPositions()};for(mp in e._mps)r.call(e._mps[mp]);delete r})},_addElementsFromClass:function(){var e=this._$.find(".mp").get();for(el in e)this.add($(e[el]))},_animFrame:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){setTimeout(e,1e3/30)}};(function(e){e.fn.MPSlider=function(t){return new MPSlider(e(this),t)}})(jQuery);